<template>
    <header class="navbar py-4 justify-between bg-white px-12">
        <div>
            <svg class="fill-base-300" width="281" height="27" viewBox="0 0 281 27" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_75_13)">
                    <path
                        d="M4.24219 27C2.17724 27 0.862597 26.4679 0.29185 25.4006C-0.278898 24.3333 -0.0159692 22.9207 1.07422 21.1629L2.88907 18.3505C3.50471 17.3655 4.38327 16.8746 5.52156 16.8746H14.0635C15.1794 16.8746 15.4391 17.3655 14.8459 18.3505L11.3573 23.9057C10.7384 24.8432 11.0014 25.3119 12.1397 25.3119C13.278 25.3119 14.086 24.8432 14.7016 23.9057L20.0403 15.3987C20.6335 14.4137 20.3738 13.9228 19.258 13.9228H7.41016C6.29431 13.9228 6.03459 13.4319 6.62778 12.4469L12.6078 2.92012C13.1529 2.03015 13.9064 1.3207 14.8683 0.791789C15.8303 0.266041 16.8307 0 17.876 0H34.8894C36.9543 0 38.2754 0.532082 38.859 1.59941C39.4393 2.66674 39.1604 4.0793 38.0221 5.83707L36.2778 8.6495C35.6621 9.63449 34.7836 10.1254 33.6453 10.1254H25.1033C23.965 10.1254 23.7021 9.63449 24.3209 8.6495L27.8096 3.09431C28.4252 2.15683 28.1655 1.68809 27.0272 1.68809C25.8889 1.68809 25.0809 2.15683 24.4652 3.09431L19.6235 10.7937C19.0303 11.7787 19.29 12.2696 20.4059 12.2696H32.2922C33.408 12.2696 33.6677 12.7605 33.0745 13.7455L26.5623 24.0799C25.9915 24.9699 25.2348 25.6793 24.2857 26.2082C23.3366 26.734 22.3394 27 21.2973 27H4.24219Z" />
                    <path
                        d="M41.0105 25.5241C40.4173 26.5091 39.5388 27 38.378 27H30.0509C28.935 27 28.6753 26.5091 29.2685 25.5241L38.6634 10.6195C38.9231 10.2901 38.843 10.1286 38.4133 10.1286H37.7367C37.0954 10.1286 36.9544 9.84669 37.3103 9.2861C37.6662 8.72235 38.176 8.44364 38.8397 8.44364H39.481C39.837 8.44364 40.1319 8.27894 40.3692 7.95273L42.3252 4.85842C42.9183 3.89877 43.7713 3.25267 44.8871 2.92645L55.6736 0.104516C55.8147 0.0570088 55.9814 0.0348387 56.1706 0.0348387C56.7862 0.0348387 56.86 0.399062 56.3854 1.12434L52.1144 7.94323C51.8772 8.27261 51.9605 8.43414 52.3645 8.43414H55.959C56.6002 8.43414 56.7413 8.71601 56.3854 9.2766C56.0295 9.84035 55.5197 10.1191 54.8559 10.1191H51.2968C50.9633 10.1191 50.6683 10.2838 50.4054 10.61L41.0105 25.5146V25.5241Z" />
                    <path
                        d="M51.4025 19.7916C51.9476 18.9016 52.7011 18.1921 53.663 17.6632C54.625 17.1375 55.6254 16.8714 56.6707 16.8714H66.5658C67.6816 16.8714 68.5602 16.3805 69.1983 15.3955L71.6544 11.5284C72.2476 10.591 71.975 10.1222 70.8367 10.1222C69.769 10.1222 68.9385 10.591 68.3453 11.5284L66.9922 13.6726C66.399 14.6576 65.5205 15.1485 64.3597 15.1485H56.0326C54.9167 15.1485 54.657 14.6576 55.2502 13.6726L55.7825 12.8301C56.5873 11.4936 57.716 10.4294 59.1621 9.63132C60.6082 8.83636 62.1024 8.4373 63.6479 8.4373H78.5258C80.5908 8.4373 81.9118 8.96938 82.4954 10.0367C83.0757 11.104 82.7968 12.5166 81.6585 14.2744L74.5755 25.5241C73.9342 26.5091 73.0556 27 71.943 27H51.9412C50.3989 27 49.4145 26.6009 48.988 25.806C48.5616 25.0079 48.7636 23.9564 49.5941 22.642L51.4089 19.7947L51.4025 19.7916ZM60.5505 23.9057C59.9573 24.8432 60.217 25.3119 61.3328 25.3119C62.4487 25.3119 63.2663 24.8432 63.8595 23.9057L66.3509 19.9689C66.9441 19.0314 66.6844 18.5627 65.5686 18.5627C64.4527 18.5627 63.5998 19.0314 63.0066 19.9689L60.5505 23.9057Z" />
                    <path
                        d="M81.9408 27C80.3985 27 79.4077 26.6009 78.9684 25.806C78.5292 25.0079 78.7248 23.9564 79.5552 22.642L86.7441 11.3574C87.2892 10.4674 88.0427 9.75801 89.0046 9.22909C89.9665 8.70018 90.967 8.4373 92.0123 8.4373H110.234C111.777 8.4373 112.796 8.8712 113.297 9.739C113.794 10.6068 113.556 11.6361 112.585 12.8333L111.873 13.7106C111.54 14.1097 111.148 14.4486 110.699 14.7304C110.247 15.0123 109.763 15.1517 109.24 15.1517H100.913C100.391 15.1517 100.054 15.0123 99.9001 14.7304C99.7462 14.4486 99.8232 14.097 100.131 13.6758L101.66 11.4968C102.302 10.5815 102.052 10.1254 100.913 10.1254C99.7751 10.1254 98.9799 10.5815 98.3867 11.4968L90.5918 23.9057C89.9986 24.8432 90.2487 25.3119 91.3389 25.3119C92.4291 25.3119 93.2243 24.8558 93.8656 23.9405L95.4303 21.7267C95.7381 21.3055 96.1229 20.9539 96.5879 20.672C97.0496 20.3901 97.5434 20.2508 98.066 20.2508H106.393C106.916 20.2508 107.252 20.387 107.406 20.6562C107.56 20.9254 107.483 21.2833 107.176 21.7299L105.502 24.0862C104.886 24.954 104.113 25.6571 103.19 26.1955C102.263 26.734 101.279 27.0032 100.237 27.0032H81.944L81.9408 27Z" />
                    <path
                        d="M108.811 27C107.647 27 107.387 26.5091 108.028 25.5241L123.188 1.47589C123.781 0.490909 124.66 0 125.821 0H134.148C135.264 0 135.523 0.490909 134.93 1.47589L127.171 13.8151C126.577 14.7304 126.828 15.1865 127.918 15.1865C129.008 15.1865 129.851 14.7304 130.444 13.8151L132.901 9.9132C133.494 8.92821 134.372 8.4373 135.533 8.4373H143.86C144.976 8.4373 145.236 8.92821 144.643 9.9132L144.072 10.8285C143.241 12.1429 142.103 13.1975 140.654 13.9925C139.208 14.7906 137.71 15.1865 136.168 15.1865H133.818C133.154 15.1865 132.644 15.4684 132.288 16.029C131.91 16.5927 132.051 16.8714 132.715 16.8714H133.497C135.536 16.8714 136.835 17.394 137.393 18.436C137.951 19.478 137.685 20.8684 136.591 22.6008L134.776 25.5178C134.135 26.5028 133.257 26.9937 132.144 26.9937H123.817C122.653 26.9937 122.393 26.5028 123.034 25.5178L127.591 18.2396C128.184 17.3243 127.934 16.8683 126.844 16.8683C125.753 16.8683 124.91 17.3243 124.317 18.2396L119.761 25.5178C119.119 26.5028 118.241 26.9937 117.128 26.9937H108.801L108.811 27Z" />
                    <path
                        d="M163.561 27C162.471 27 162.195 26.5091 162.743 25.5241L177.942 1.47906C178.532 0.490909 179.41 0 180.574 0H204.385C205.501 0 205.761 0.490909 205.168 1.47589L200.611 8.64633C200.018 9.63132 199.152 10.1222 198.014 10.1222H189.507C188.369 10.1222 188.097 9.63132 188.69 8.64633L192.214 3.09114C192.829 2.15367 192.57 1.68493 191.431 1.68493C190.293 1.68493 189.485 2.15367 188.869 3.09114L183.922 10.9647C183.303 11.9497 183.553 12.4406 184.669 12.4406H193.07C193.734 12.4406 193.9 12.7225 193.567 13.283C193.188 13.8468 192.679 14.1255 192.037 14.1255H183.636C182.472 14.1255 181.584 14.6164 180.969 15.6014L174.739 25.5146C174.193 26.4996 173.328 26.9905 172.141 26.9905H163.564L163.561 27Z" />
                    <path
                        d="M206.059 23.9405C205.466 24.8558 205.716 25.3119 206.806 25.3119C207.896 25.3119 208.74 24.8558 209.333 23.9405L210.721 21.7267C211.314 20.7417 212.193 20.2508 213.354 20.2508H221.681C222.797 20.2508 223.056 20.7417 222.463 21.7267L220.969 24.083C220.398 24.973 219.642 25.6825 218.692 26.2114C217.743 26.7371 216.746 27.0032 215.704 27.0032H195.773C194.727 27.0032 194.064 26.7403 193.778 26.2114C193.493 25.6825 193.637 24.9762 194.205 24.083L202.215 11.3574C202.76 10.4674 203.513 9.75801 204.475 9.22909C205.437 8.70018 206.437 8.4373 207.483 8.4373H223.996C226.061 8.4373 227.382 8.96938 227.965 10.0367C228.546 11.104 228.267 12.5166 227.129 14.2744L225.384 17.0868C224.791 18.0718 223.913 18.5627 222.752 18.5627H211.151C209.987 18.5627 209.108 19.0536 208.518 20.0386L206.062 23.9405H206.059ZM217.128 11.4968C217.721 10.5815 217.471 10.1254 216.381 10.1254C215.29 10.1254 214.447 10.5815 213.854 11.4968L211.363 15.4684C210.769 16.4059 211.029 16.8746 212.145 16.8746C213.261 16.8746 214.078 16.4059 214.672 15.4684L217.128 11.4968Z" />
                    <path
                        d="M232.217 11.3543C232.762 10.4643 233.516 9.75484 234.478 9.22592C235.44 8.69701 236.44 8.43413 237.485 8.43413H259.161C260.277 8.43413 260.537 8.92504 259.943 9.91003L257.523 13.7423C256.907 14.7051 256.028 15.1833 254.89 15.1833H246.563C245.447 15.1833 245.187 14.6924 245.781 13.7074L247.169 11.5284C247.762 10.591 247.502 10.1222 246.387 10.1222C245.271 10.1222 244.453 10.591 243.86 11.5284L241.439 15.3955C240.846 16.3805 241.106 16.8714 242.221 16.8714H252.081C253.123 16.8714 253.784 17.1343 254.056 17.6632C254.329 18.1921 254.191 18.8984 253.646 19.7916L250.975 24.0799C250.404 24.9699 249.647 25.6793 248.698 26.2082C247.749 26.734 246.752 27 245.71 27H224.07C222.954 27 222.694 26.5091 223.287 25.5241L225.708 21.6918C226.324 20.7322 227.202 20.2508 228.341 20.2508H236.668C237.784 20.2508 238.043 20.7417 237.45 21.7267L236.062 23.9405C235.469 24.8558 235.719 25.3119 236.809 25.3119C237.899 25.3119 238.742 24.8432 239.336 23.9057L241.756 20.0386C242.35 19.0536 242.09 18.5627 240.974 18.5627H231.114C230.069 18.5627 229.405 18.2998 229.12 17.7709C228.834 17.2452 228.979 16.5357 229.546 15.6457L232.214 11.3574L232.217 11.3543Z" />
                    <path
                        d="M265.317 25.5241C264.724 26.5091 263.846 27 262.685 27H254.358C253.242 27 252.982 26.5091 253.575 25.5241L262.97 10.6195C263.23 10.2901 263.147 10.1286 262.72 10.1286H262.044C261.402 10.1286 261.261 9.84669 261.617 9.2861C261.973 8.72235 262.483 8.44364 263.147 8.44364H263.788C264.144 8.44364 264.439 8.27894 264.679 7.95273L266.635 4.85842C267.228 3.89877 268.081 3.25267 269.197 2.92645L279.98 0.104516C280.122 0.0570088 280.288 0.0348387 280.477 0.0348387C281.093 0.0348387 281.167 0.399062 280.692 1.12434L276.421 7.94323C276.184 8.27261 276.267 8.43414 276.671 8.43414H280.266C280.907 8.43414 281.048 8.71601 280.692 9.2766C280.336 9.84035 279.827 10.1191 279.163 10.1191H275.604C275.27 10.1191 274.975 10.2838 274.712 10.61L265.317 25.5146V25.5241Z" />
                </g>
                <defs>
                    <clipPath id="clip0_75_13">
                        <rect width="281" height="27" fill="white" />
                    </clipPath>
                </defs>
            </svg>
        </div>
        <nav class="flex justify-between font-Inter text-xl text-base-300">
            <nuxt-link :class="{ 'border-b-4 border-secondary': $route.name === 'home' }"
                class="mr-8 hover:text-secondary font-bold" to="/home">Eventos</nuxt-link>
            <nuxt-link :class="{ 'border-b-4 border-secondary': $route.name === 'criar-evento' }"
                class="hover:text-secondary font-bold" to="/criar-evento">Criar</nuxt-link>
        </nav>
        <div class="w-72 flex justify-end">
            <div class="w-12 rounded-full bg-primary p-2">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" id="user">
                    <path
                        d="M670.1 278.4c0 8.8-.6 17.6-1.7 26.3.5-3.5 1-7.1 1.4-10.6-2.4 17.4-7 34.3-13.7 50.5 1.3-3.2 2.7-6.4 4-9.6-6.7 15.8-15.3 30.6-25.8 44.2l6.3-8.1c-10.4 13.4-22.5 25.5-35.9 35.9l8.1-6.3c-13.6 10.4-28.4 19.1-44.2 25.8 3.2-1.3 6.4-2.7 9.6-4-16.2 6.7-33.1 11.3-50.5 13.7 3.5-.5 7.1-1 10.6-1.4-17.5 2.3-35.1 2.3-52.6 0 3.5.5 7.1 1 10.6 1.4-17.4-2.4-34.3-7-50.5-13.7 3.2 1.3 6.4 2.7 9.6 4-15.8-6.7-30.6-15.3-44.2-25.8l8.1 6.3c-13.4-10.4-25.5-22.5-35.9-35.9l6.3 8.1c-10.4-13.6-19.1-28.4-25.8-44.2 1.3 3.2 2.7 6.4 4 9.6-6.7-16.2-11.3-33.1-13.7-50.5.5 3.5 1 7.1 1.4 10.6-2.3-17.5-2.3-35.1 0-52.6-.5 3.5-1 7.1-1.4 10.6 2.4-17.4 7-34.3 13.7-50.5-1.3 3.2-2.7 6.4-4 9.6 6.7-15.8 15.3-30.6 25.8-44.2l-6.3 8.1c10.4-13.4 22.5-25.5 35.9-35.9l-8.1 6.3c13.6-10.4 28.4-19.1 44.2-25.8-3.2 1.3-6.4 2.7-9.6 4 16.2-6.7 33.1-11.3 50.5-13.7-3.5.5-7.1 1-10.6 1.4 17.5-2.3 35.1-2.3 52.6 0-3.5-.5-7.1-1-10.6-1.4 17.4 2.4 34.3 7 50.5 13.7-3.2-1.3-6.4-2.7-9.6-4 15.8 6.7 30.6 15.3 44.2 25.8l-8.1-6.3c13.4 10.4 25.5 22.5 35.9 35.9l-6.3-8.1c10.4 13.6 19.1 28.4 25.8 44.2-1.3-3.2-2.7-6.4-4-9.6 6.7 16.2 11.3 33.1 13.7 50.5-.5-3.5-1-7.1-1.4-10.6 1.1 8.7 1.6 17.5 1.7 26.3.1 20.9 18.3 41 40 40 21.6-1 40.1-17.6 40-40-.2-47.9-14.6-96.9-42.8-135.9-7.6-10.5-15.7-20.8-24.7-30.1-9.1-9.4-19.1-17.5-29.5-25.4-18.9-14.4-40-25-62.4-33.2-90.3-33.1-199.2-3.6-260.3 70.8-8.4 10.2-16.4 20.8-23.2 32.2-6.8 11.3-12.1 23.3-17 35.5-9.2 22.6-13.9 46.6-15.8 70.9-3.7 47.6 8.7 97.3 33.5 138.1 23.9 39.4 60 73.2 102.2 92.3 12.4 5.6 25.1 10.8 38.3 14.5 13.1 3.6 26.4 5.6 39.9 7.2 24.6 2.9 49.7.9 74-4 92.3-18.8 169.6-98.3 183.9-191.6 2.1-13.6 3.7-27.2 3.7-41 .1-20.9-18.5-41-40-40-21.6.7-39.8 17.3-39.8 39.7zm132.7 625.3H289.7c-22.7 0-45.4.2-68.1 0-2.5 0-5-.2-7.4-.5 3.5.5 7.1 1 10.6 1.4-4-.6-7.8-1.7-11.5-3.2 3.2 1.3 6.4 2.7 9.6 4-4-1.7-7.7-3.9-11.2-6.6l8.1 6.3c-3-2.5-5.8-5.2-8.2-8.2l6.3 8.1c-2.7-3.5-4.8-7.2-6.6-11.2 1.3 3.2 2.7 6.4 4 9.6-1.5-3.7-2.5-7.6-3.2-11.5.5 3.5 1 7.1 1.4 10.6-1.6-12.1-.5-24.9-.5-37.1v-42.8c0-10.7.6-21.3 2-31.9-.5 3.5-1 7.1-1.4 10.6 2.8-20.5 8.2-40.6 16.3-59.7-1.3 3.2-2.7 6.4-4 9.6 7.8-18.2 17.8-35.3 29.9-51l-6.3 8.1c12.1-15.5 26-29.5 41.6-41.6L283 673c15.7-12.1 32.8-22.1 51-29.9-3.2 1.3-6.4 2.7-9.6 4 19.1-8 39.1-13.5 59.7-16.3-3.5.5-7.1 1-10.6 1.4 14.8-1.9 29.5-2 44.4-2h183c16.5 0 32.9-.1 49.4 2-3.5-.5-7.1-1-10.6-1.4 20.5 2.8 40.6 8.2 59.7 16.3-3.2-1.3-6.4-2.7-9.6-4 18.2 7.8 35.3 17.8 51 29.9l-8.1-6.3c15.5 12.1 29.5 26 41.6 41.6l-6.3-8.1c12.1 15.7 22.1 32.8 29.9 51-1.3-3.2-2.7-6.4-4-9.6 8 19.1 13.5 39.1 16.3 59.7-.5-3.5-1-7.1-1.4-10.6 1.9 15.1 2 30.1 2 45.3v49.5c0 5.7.2 11.4-.5 17 .5-3.5 1-7.1 1.4-10.6-.6 4-1.7 7.8-3.2 11.5 1.3-3.2 2.7-6.4 4-9.6-1.7 4-3.9 7.7-6.6 11.2l6.3-8.1c-2.5 3-5.2 5.8-8.2 8.2l8.1-6.3c-3.5 2.7-7.2 4.8-11.2 6.6 3.2-1.3 6.4-2.7 9.6-4-3.7 1.5-7.6 2.5-11.5 3.2 3.5-.5 7.1-1 10.6-1.4-2.2.3-4.5.4-6.8.5-10.3.1-20.9 4.4-28.3 11.7-6.9 6.9-12.2 18.3-11.7 28.3 1 21.4 17.6 40.3 40 40 38.9-.6 73.1-26 84.5-63.3 4.5-14.8 3.5-30.7 3.5-45.9 0-34.8 1.1-69.3-4.9-103.8-8.8-50.5-34.2-98-69-135.3-34.8-37.3-81.6-64.7-131.1-76.9-28.4-7-57-8.1-86-8.1H422.4c-29.7 0-59.2 1.4-88.1 9.1-49.1 13-95.3 40.7-129.4 78.3-34.4 37.9-59.3 85.5-67.4 136.3-5.4 34.1-4.3 68.3-4.3 102.7 0 15.8-.9 32.3 4.8 47.4 7.4 19.4 19.2 34.7 36.5 46.2 13.5 8.9 30.6 13.2 46.6 13.4 7.8.1 15.6 0 23.4 0h558.4c20.9 0 41-18.4 40-40-1-21.8-17.6-40.1-40.1-40.1z">
                    </path>
                </svg>
            </div>
        </div>
    </header>

    <main>
        <div>
            <div v-if="currentPage === 'empresa'"
                class="w-1/3 h-1/3 flex flex-col bg-base-300 p-8 mx-auto mt-20 rounded-3xl">
                <h1 class="text-4xl font-Inter font-bold text-secondary text-center mt-20 mb-16">recurso valido apenas para
                    empresas 😫</h1>
                <form class="flex flex-col">
                    <label for="name" class="label">Nome da empresa:</label>
                    <input type="text" id="name" v-model="empresaForm.name" class="input">

                    <label for="cnpj" class="label">CNPJ:</label>
                    <input type="text" id="cnpj" v-model="empresaForm.cpnj" class="input">

                    <label for="email" class="label">Email:</label>
                    <input type="email" id="email" v-model="empresaForm.email" class="input">

                    <label for="phone" class="label">Telefone:</label>
                    <input type="tel" id="phone" v-model="empresaForm.phone" class="input">
                </form>
                <button @click="submitEmpresa" class="btn btn-block btn-primary mt-8">Próximo</button>
            </div>

            <div v-else-if="currentPage === 'evento'"
                class="w-1/3 h-1/3 flex flex-col bg-base-300 p-8 mx-auto mt-20 rounded-3xl">
                <form @submit.prevent="submitEvento" class="flex flex-col">
                    <label for="eventName" class="label">Nome do Evento:</label>
                    <input type="text" id="eventName" v-model="eventoForm.name" class="input" required>

                    <label for="eventDate" class="label">Data do Evento:</label>
                    <input type="date" id="eventDate" v-model="eventoForm.date" class="input" required>

                    <label for="eventDescription" class="label">Descrição do Evento:</label>
                    <textarea id="eventDescription" v-model="eventoForm.description" class="input"></textarea>

                    <label for="totalTickets" class="label">Total de Ingressos:</label>
                    <input type="number" id="totalTickets" v-model="eventoForm.totalTickets" class="input" required>

                    <label for="eventType" class="label">Tipo de Evento:</label>
                    <select id="eventType" v-model="eventoForm.eventType" class="input">
                        <option value="presencial">Presencial</option>
                        <option value="online">Online</option>
                    </select>
                    <div v-if="eventoForm.eventType === 'presencial'">
                        <label for="street" class="label">Rua:</label>
                        <input type="text" id="street" v-model="eventoForm.address.street" class="input" required>

                        <label for="city" class="label">Cidade:</label>
                        <input type="text" id="city" v-model="eventoForm.address.city" class="input" required>

                        <label for="state" class="label">Estado:</label>
                        <input type="text" id="state" v-model="eventoForm.address.state" class="input" required>

                        <label for="zipCode" class="label">CEP:</label>
                        <input type="text" id="zipCode" v-model="eventoForm.address.zipCode" class="input" required>

                        <label for="neighborhood" class="label">Bairro:</label>
                        <input type="text" id="neighborhood" v-model="eventoForm.address.neighborhood" class="input"
                            required>

                        <label for="complement" class="label">Complemento:</label>
                        <input type="text" id="complement" v-model="eventoForm.address.complement" class="input">

                        <label for="number" class="label">Número:</label>
                        <input type="text" id="number" v-model="eventoForm.address.number" class="input" required>
                    </div>

                    <!-- Campos de link - exibidos apenas se o evento for online -->
                    <div v-if="eventoForm.eventType === 'online'">
                        <label for="linkUrl" class="label">URL do Link:</label>
                        <input type="text" id="linkUrl" v-model="eventoForm.link.url" class="input" required>
                    </div>

                    <div class="flex items-center justify-between w-full mt-8">
                        <button @click="previousPage" class="btn btn-primary w-1/2 mr-2">Anterior</button>
                        <button type="submit" class="btn btn-secondary w-1/2">Enviar</button>
                    </div>
                </form>
            </div>
        </div>
    </main>
</template>
<script>
import axios from 'axios';

export default {
    data() {
        return {
            currentPage: 'empresa',
            empresaForm: {
                id: '1',
                name: '',
                cpnj: '',
                email: '',
                phone: '',
            },
            eventoForm: {
                name: '',
                date: '',
                totalTickets: '',
                eventType: 'online',
            },
        };
    },
    methods: {
        submitEmpresa() {
            const formData = this.empresaForm;

            localStorage.setItem('empresa', JSON.stringify(formData));
            this.postEmpresa();
            this.nextPage();
        },
        submitEvento() {
            const formevento = this.eventoForm;
            localStorage.setItem('evento', JSON.stringify(formevento));
            this.postEvento();
        },
        async realizarPost(url, formData) {
            const authToken = localStorage.getItem('token');
            if (!authToken) {
                console.error('Token de autenticação não encontrado');
                return;
            }

            const headers = {
                Authorization: `Bearer ${authToken}`,
                'Content-Type': 'application/json',
            };

            try {
                const response = await axios.post(url, formData, { headers });
                console.log(response);
            } catch (error) {
                console.error(error);
            }
        },
        postEmpresa() {
            this.realizarPost('https://stack-fest-backend-80a48e37e6c8.herokuapp.com/api/v1/companies', this.empresaForm);
        },
        postEvento() {
            this.realizarPost('https://stack-fest-backend-80a48e37e6c8.herokuapp.com/api/v1/events', this.eventoForm);
        },
        nextPage() {
            this.currentPage = 'evento';
        },
        previousPage() {
            this.currentPage = 'empresa';
        },
        sanitizeFormData(formData) {
            // Remova caracteres inválidos de todas as propriedades do objeto formData
            for (const key in formData) {
                if (Object.prototype.hasOwnProperty.call(formData, key)) {
                    if (typeof formData[key] === 'string') {
                        formData[key] = this.removeInvalidCharacters(formData[key]);
                    }
                }
            }
        },
        removeInvalidCharacters(str) {
            // Substitui caracteres inválidos por uma string vazia
            return str.replace(/[^\x00-\x7F]/g, '');
        },
    },
};
</script>
